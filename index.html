<html>
  <head>
    <meta charset="UTF-8">
		<title>danielstuart.tk</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="/css/style.css" media="screen" />  
  </head>
<body>
<p style="margin-left: 10px; margin-right: 2px"><span style="font-size: 14pt">HOW BUILD CM 12.1 CAF FOR LG G2 (d802)</span><br /><br />-WIP-<br /><br />Requirements: <br />- Debian based Linux OS (Ubuntu/Mint/etc)<br />- A little of linux knowledge.<br />- At least <strong>3.5gb</strong> of ram with <strong>4gb</strong> of swap (If you have less than 3.5gb, increase swap)<br /><br />Let's start:<br /><br />1- Install all the build packages needed:<br /><span style="color: #NaNNaNNaN"><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9"><strong>  $ sudo apt-get install bison build-essential curl flex git gnupg gperf libesd0-dev liblz4-tool libncurses5-dev libsdl1.2-dev libwxgtk2.8-dev libxml2 libxml2-utils lzop openjdk-7-jdk openjdk-7-jre pngcrush schedtool squashfs-tools xsltproc zip zlib1g-dev phablet-tools</strong></span></span></span><br /><span style="color: #NaNNaNNaN"><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9"><strong><br /></strong></span></span></span><br />2- If you have a 64 bits system: <br /><strong><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9">  $ sudo apt-get install g++-multilib gcc-multilib lib32ncurses5-dev lib32readline-gplv2-dev lib32z1-dev</span></span></strong><br /><br /><br />3- Setting up <span style="font-family: sans-serif"><span style="background-color: #ffffff">build environment directory:</span></span><br /><span style="font-family: sans-serif"><span style="background-color: #ffffff">   <strong>$ mkdir ~/android</strong></span></span><br /><span style="font-family: sans-serif"><span style="background-color: #ffffff"><strong>   $ cd ~/android</strong></span></span><br /><strong><span style="font-family: sans-serif"><span style="background-color: #ffffff">   $ </span></span><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9">repo init -u https://github.com/CyanogenMod/android.git -b cm-12.1</span></span></strong><br /><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9"><br /></span></span><br /><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9">4- Now, let's clone G2 local_manifest</span></span><br /><span style="font-family: sans-serif"><span style="background-color: #ffffff">  <strong> $</strong></span></span><span style="font-family: sans-serif"><span style="background-color: #ffffff"><strong> cd .repo</strong></span></span><br /><strong><span style="font-family: sans-serif"><span style="background-color: #ffffff">   $</span></span><span style="font-family: sans-serif"><span style="background-color: #ffffff"> git clone </span></span></strong><span style="font-family: sans-serif"><strong>https://github.com/danielstuart14/local_manifests/blob/cm-12.1-caf/g2-caf.xml<br />   $ cd ~/android</strong><br /><br />5- Okay, now it's time to sync (It used to take much time):</span><br /><span style="font-family: sans-serif">  <strong> $ repo sync</strong></span><br /><span style="font-family: sans-serif"><br /></span><br /><span style="font-family: sans-serif">6- OPTIONAL: If you want to compile take less time, enable CCACHE:<br />  <strong> $ gedit </strong></span><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9"><strong>~/.bashrc </strong></span></span><br /><span style="font-family: sans-serif">    Now add it to the last line: </span><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9"><strong>export USE_CCACHE=1</strong> and save, then in terminal:<br /></span></span><span style="color: #NaNNaNNaN"><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9"> </span></span></span><strong><span style="font-family: sans-serif">$ </span><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9">prebuilts/misc/linux-x86/ccache/ccache -M 50G </span></span></strong><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9">(You can change 50G (50G = It'll take 50gb) to whatever you want: more = less free space, more performance)</span></span><br /><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9"><br /></span></span><br /><span style="font-family: sans-serif">7- Let's compile:</span><br /><span style="font-family: sans-serif">  <strong>$ . build/envsetup.sh</strong></span><br /><span style="font-family: sans-serif"><strong>  $ croot</strong></span><br /><span style="font-family: sans-serif"><strong>  $ brunch d802    </strong></span><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9">(It used to take much time)</span></span><br /><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9"><br /></span></span><br /><span style="font-family: sans-serif">8- Finish:<br />   Okay, when compile finishes, your rom will be in: out/target/d802<br />   </span><br /><span style="font-family: sans-serif">Congrats! Now, if you want to sync you project with CM and CAF sources, just repeat <strong>step 5</strong></span><span style="font-family: sans-serif">, and then, compile again.<br /><br /></span><br /><span style="font-family: sans-serif"><strong><br /></strong></span><br /><span style="font-family: sans-serif"><strong><br /></strong></span><br /><strong><span style="font-family: monospace, Courier"><span style="background-color: #f9f9f9"><br /></span></span></strong></p>
</body>
</html>
 
